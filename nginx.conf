worker_processes 1;
error_log /var/log/nginx/error.log;
pid /var/run/nginx.pid;

events {
    worker_connections 1024;
}

http {
    include /etc/nginx/mime.types;
    default_type application/octet-stream;
    
    sendfile on;
    tcp_nopush on;
    keepalive_timeout 65;
    
    # إعدادات السيرفر
    server {
        listen 8080;
        server_name _;
        
        # الصفحة الرئيسية
        location / {
            return 200 '<!DOCTYPE html>
<html>
<head>
    <title>beIN Sports Proxy</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        h1 { color: #333; }
        .channel { margin: 10px 0; padding: 10px; background: #f5f5f5; }
    </style>
</head>
<body>
    <h1>beIN Sports Channels</h1>
    <p><a href="/playlist.m3u">Download M3U Playlist</a></p>
    
    <div class="channel">
        <strong>beIN MAX 1 4K</strong><br>
        <a href="/max1">Play</a> | 
        <a href="/227570">Original ID</a>
    </div>
    
    <div class="channel">
        <strong>beIN MAX 2 4K</strong><br>
        <a href="/max2">Play</a> | 
        <a href="/227571">Original ID</a>
    </div>
    
    <div class="channel">
        <strong>beIN News HD</strong><br>
        <a href="/news">Play</a> | 
        <a href="/67374">Original ID</a>
    </div>
    
    <div class="channel">
        <strong>beIN Sports 1-9</strong><br>
        <a href="/s1">S1</a> | <a href="/s2">S2</a> | <a href="/s3">S3</a> | 
        <a href="/s4">S4</a> | <a href="/s5">S5</a> | <a href="/s6">S6</a> | 
        <a href="/s7">S7</a> | <a href="/s8">S8</a> | <a href="/s9">S9</a>
    </div>
</body>
</html>';
            add_header Content-Type text/html;
        }
        
        # ===== القنوات الرئيسية =====
        
        # beIN MAX 1 4K
        location = /max1 {
            proxy_pass http://47.236.154.101/redirect.php?id=227570;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /227570 {
            proxy_pass http://47.236.154.101/redirect.php?id=227570;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN MAX 2 4K
        location = /max2 {
            proxy_pass http://47.236.154.101/redirect.php?id=227571;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /227571 {
            proxy_pass http://47.236.154.101/redirect.php?id=227571;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN News HD
        location = /news {
            proxy_pass http://47.236.154.101/redirect.php?id=67374;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /67374 {
            proxy_pass http://47.236.154.101/redirect.php?id=67374;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN HD
        location = /hd {
            proxy_pass http://47.236.154.101/redirect.php?id=67373;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /67373 {
            proxy_pass http://47.236.154.101/redirect.php?id=67373;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN Sports 1
        location = /s1 {
            proxy_pass http://47.236.154.101/redirect.php?id=67742;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /67742 {
            proxy_pass http://47.236.154.101/redirect.php?id=67742;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN Sports 2
        location = /s2 {
            proxy_pass http://47.236.154.101/redirect.php?id=67743;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /67743 {
            proxy_pass http://47.236.154.101/redirect.php?id=67743;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN Sports 3
        location = /s3 {
            proxy_pass http://47.236.154.101/redirect.php?id=67744;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /67744 {
            proxy_pass http://47.236.154.101/redirect.php?id=67744;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN Sports 4
        location = /s4 {
            proxy_pass http://47.236.154.101/redirect.php?id=67745;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /67745 {
            proxy_pass http://47.236.154.101/redirect.php?id=67745;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN Sports 5
        location = /s5 {
            proxy_pass http://47.236.154.101/redirect.php?id=67746;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /67746 {
            proxy_pass http://47.236.154.101/redirect.php?id=67746;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN Sports 6
        location = /s6 {
            proxy_pass http://47.236.154.101/redirect.php?id=67747;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /67747 {
            proxy_pass http://47.236.154.101/redirect.php?id=67747;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN Sports 7
        location = /s7 {
            proxy_pass http://47.236.154.101/redirect.php?id=67748;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /67748 {
            proxy_pass http://47.236.154.101/redirect.php?id=67748;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN Sports 8
        location = /s8 {
            proxy_pass http://47.236.154.101/redirect.php?id=67749;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /67749 {
            proxy_pass http://47.236.154.101/redirect.php?id=67749;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN Sports 9
        location = /s9 {
            proxy_pass http://47.236.154.101/redirect.php?id=67750;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /67750 {
            proxy_pass http://47.236.154.101/redirect.php?id=67750;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN XTRA 1
        location = /xtra1 {
            proxy_pass http://47.236.154.101/redirect.php?id=219946;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /219946 {
            proxy_pass http://47.236.154.101/redirect.php?id=219946;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN XTRA 2
        location = /xtra2 {
            proxy_pass http://47.236.154.101/redirect.php?id=219949;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /219949 {
            proxy_pass http://47.236.154.101/redirect.php?id=219949;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN XTRA 3
        location = /xtra3 {
            proxy_pass http://47.236.154.101/redirect.php?id=222053;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /222053 {
            proxy_pass http://47.236.154.101/redirect.php?id=222053;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN AFC1
        location = /afc1 {
            proxy_pass http://47.236.154.101/redirect.php?id=219943;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /219943 {
            proxy_pass http://47.236.154.101/redirect.php?id=219943;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN AFC2
        location = /afc2 {
            proxy_pass http://47.236.154.101/redirect.php?id=222044;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /222044 {
            proxy_pass http://47.236.154.101/redirect.php?id=222044;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # beIN AFC3
        location = /afc3 {
            proxy_pass http://47.236.154.101/redirect.php?id=222045;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        location = /222045 {
            proxy_pass http://47.236.154.101/redirect.php?id=222045;
            proxy_set_header Host 47.236.154.101;
            proxy_set_header Accept-Encoding "";
            add_header Access-Control-Allow-Origin "*";
        }
        
        # ملف البلايليست
        location = /playlist.m3u {
            default_type application/vnd.apple.mpegurl;
            return 200 '#EXTM3U
#EXTINF:-1,beIN MAX 1 4K
http://$host/max1
#EXTINF:-1,beIN MAX 2 4K
http://$host/max2
#EXTINF:-1,beIN News HD
http://$host/news
#EXTINF:-1,beIN HD
http://$host/hd
#EXTINF:-1,beIN SPORTS 1 HD
http://$host/s1
#EXTINF:-1,beIN SPORTS 2 HD
http://$host/s2
#EXTINF:-1,beIN SPORTS 3 HD
http://$host/s3
#EXTINF:-1,beIN SPORTS 4 HD
http://$host/s4
#EXTINF:-1,beIN SPORTS 5 HD
http://$host/s5
#EXTINF:-1,beIN SPORTS 6 HD
http://$host/s6
#EXTINF:-1,beIN SPORTS 7 HD
http://$host/s7
#EXTINF:-1,beIN SPORTS 8 HD
http://$host/s8
#EXTINF:-1,beIN SPORTS 9 HD
http://$host/s9
#EXTINF:-1,beIN XTRA 1 HD
http://$host/xtra1
#EXTINF:-1,beIN XTRA 2 HD
http://$host/xtra2
#EXTINF:-1,beIN XTRA 3 HD
http://$host/xtra3
#EXTINF:-1,beIN AFC1 HD
http://$host/afc1
#EXTINF:-1,beIN AFC2 HD
http://$host/afc2
#EXTINF:-1,beIN AFC3 HD
http://$host/afc3';
        }
        
        # صفحة الصحة
        location = /health {
            return 200 'OK';
            add_header Content-Type text/plain;
        }
        
        # صفحة 404
        location = /404 {
            return 404 'Not Found';
        }
    }
}
